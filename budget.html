html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget - FinanceOS</title>
    <meta name="theme-color" content="#8b5cf6">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        /* Copy all the CSS from the first artifact above */
    </style>
</head>
<body>
    <!-- Copy all the HTML from the first artifact above -->
    
    <script>
        // Initialize Chart.js defaults for dark theme
        Chart.defaults.color = 'rgba(255, 255, 255, 0.8)';
        Chart.defaults.borderColor = 'rgba(255, 255, 255, 0.1)';

        // Budget data
        const budgetData = {
            categories: ['Food', 'Discretionary', 'Transportation', 'Utilities', 'Housing', 'Insurance', 'Childcare', 'Savings'],
            budgeted: [800, 300, 125, 213, 2427, 490, 508, 571],
            actual: [963, 423, 156, 213, 2427, 490, 508, 271],
            variance: [-163, -123, -31, 0, 0, 0, 0, 300]
        };

        let chartsInitialized = false;

        // Toggle charts functionality
        document.getElementById('chartsToggle').addEventListener('click', function() {
            const container = document.getElementById('chartsContainer');
            const button = this;
            
            if (container.classList.contains('visible')) {
                container.classList.remove('visible');
                button.classList.remove('active');
                button.innerHTML = '<span>ðŸ“ˆ</span><span>Show Visual Analysis</span>';
            } else {
                container.classList.add('visible');
                button.classList.add('active');
                button.innerHTML = '<span>ðŸ“Š</span><span>Hide Visual Analysis</span>';
                
                if (!chartsInitialized) {
                    initializeCharts();
                    chartsInitialized = true;
                }
            }
        });

        function initializeCharts() {
            const variancePercentages = budgetData.variance.map((variance, index) => {
                const budgeted = budgetData.budgeted[index];
                return budgeted > 0 ? ((variance / budgeted) * 100) : 0;
            });

            // Variance Chart
            const varianceCtx = document.getElementById('varianceChart').getContext('2d');
            new Chart(varianceCtx, {
                type: 'bar',
                data: {
                    labels: budgetData.categories,
                    datasets: [{
                        data: budgetData.variance,
                        backgroundColor: budgetData.variance.map(v => v < 0 ? '#ef4444' : v > 0 ? '#10b981' : '#6b7280')
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const dollarAmount = context.raw;
                                    const percentage = variancePercentages[context.dataIndex];
                                    return [`Amount: $${Math.abs(dollarAmount)}`, `Percentage: ${percentage.toFixed(1)}%`];
                                }
                            }
                        }
                    }
                }
            });

            // Expense Breakdown Chart
            const expenseCtx = document.getElementById('expenseBreakdown').getContext('2d');
            new Chart(expenseCtx, {
                type: 'doughnut',
                data: {
                    labels: budgetData.categories,
                    datasets: [{
                        data: budgetData.actual,
                        backgroundColor: ['#ef4444', '#f97316', '#f59e0b', '#8b5cf6', '#3b82f6', '#06d6a0', '#10b981', '#84cc16']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }
    </script>
</body>
</html>